<h2 align="center">
    <a href="https://dainam.edu.vn/vi/khoa-cong-nghe-thong-tin">
    ğŸ“ Faculty of Information Technology (DaiNam University)
    </a>
</h2>
<h2 align="center">
   XÃ‚Y Dá»°NG Há»† THá»NG CHUYá»‚N Äá»”I TÃ€I LIá»†U VIáº¾T TAY THÃ€NH VÄ‚N Báº¢N Sá»
</h2>
<div align="center">
    <p align="center">
        <img src="logo/aiotlab_logo.png" alt="AIoTLab Logo" width="170"/>
        <img src="logo/fitdnu_logo.png" alt="AIoTLab Logo" width="180"/>
        <img src="logo/dnu_logo.png" alt="DaiNam University Logo" width="200"/>
    </p>

[![AIoTLab](https://img.shields.io/badge/AIoTLab-green?style=for-the-badge)](https://www.facebook.com/DNUAIoTLab)
[![Faculty of Information Technology](https://img.shields.io/badge/Faculty%20of%20Information%20Technology-blue?style=for-the-badge)](https://dainam.edu.vn/vi/khoa-cong-nghe-thong-tin)
[![DaiNam University](https://img.shields.io/badge/DaiNam%20University-orange?style=for-the-badge)](https://dainam.edu.vn)

</div>


![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![Flask](https://img.shields.io/badge/Flask-2.3.3-green.svg)
![PaddleOCR](https://img.shields.io/badge/PaddleOCR-2.7.0-orange.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)



## ğŸ¯ Giá»›i thiá»‡u

Dá»± Ã¡n nÃ y lÃ  má»™t há»‡ thá»‘ng OCR (Optical Character Recognition) chuyÃªn dá»¥ng cho viá»‡c nháº­n dáº¡ng chá»¯ viáº¿t tay tiáº¿ng Viá»‡t vÃ  chá»¯ in tiáº¿ng Anh. Há»‡ thá»‘ng tÃ­ch há»£p nhiá»u cÃ´ng nghá»‡ OCR hiá»‡n Ä‘áº¡i vÃ  cung cáº¥p thÃªm tÃ­nh nÄƒng há»c tá»« vá»±ng thÃ´ng qua flashcard.

Há»‡ thá»‘ng sá»­ dá»¥ng:
- **PaddleOCR**: CÃ´ng cá»¥ OCR mÃ£ nguá»“n má»Ÿ cá»§a Baidu, há»— trá»£ nhiá»u ngÃ´n ngá»¯
- **Google Translate API**: Dá»‹ch vÄƒn báº£n tá»± Ä‘á»™ng
- **Dictionary API**: Tra cá»©u tá»« Ä‘iá»ƒn vÃ  táº¡o flashcard

## âœ¨ TÃ­nh nÄƒng

### OCR (Nháº­n dáº¡ng vÄƒn báº£n)
- âœ… Nháº­n dáº¡ng chá»¯ viáº¿t tay tiáº¿ng Viá»‡t vá»›i Ä‘á»™ chÃ­nh xÃ¡c cao
- âœ… Nháº­n dáº¡ng chá»¯ in tiáº¿ng Anh
- âœ… Há»— trá»£ PaddleOCR vá»›i inference model sáºµn cÃ³
- âœ… Xá»­ lÃ½ vÄƒn báº£n nhiá»u dÃ²ng
- âœ… Hiá»ƒn thá»‹ káº¿t quáº£ theo tá»«ng dÃ²ng Ä‘á»ƒ dá»… Ä‘á»c vÃ  chá»‰nh sá»­a

### Há»c tá»« vá»±ng (Flashcard)
- âœ… Tá»± Ä‘á»™ng táº¡o flashcard tá»« vÄƒn báº£n Ä‘Ã£ nháº­n dáº¡ng
- âœ… Dá»‹ch vÄƒn báº£n tiáº¿ng Anh sang tiáº¿ng Viá»‡t
- âœ… Tra cá»©u tá»« Ä‘iá»ƒn vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin (phÃ¡t Ã¢m, nghÄ©a, vÃ­ dá»¥, tá»« Ä‘á»“ng nghÄ©a)
- âœ… Quáº£n lÃ½ flashcard: thÃªm, sá»­a, xÃ³a, tÃ¬m kiáº¿m
- âœ… Ã”n táº­p flashcard vá»›i thá»‘ng kÃª káº¿t quáº£
- âœ… ÄÃ¡nh dáº¥u yÃªu thÃ­ch vÃ  theo dÃµi tiáº¿n Ä‘á»™ há»c táº­p

### Giao diá»‡n Web
- âœ… Giao diá»‡n web thÃ¢n thiá»‡n vá»›i Flask
- âœ… Upload vÃ  nháº­n dáº¡ng áº£nh trá»±c tiáº¿p trÃªn trÃ¬nh duyá»‡t
- âœ… Xem káº¿t quáº£ vá»›i confidence score
- âœ… Táº¡o flashcard ngay sau khi nháº­n dáº¡ng
- âœ… Quáº£n lÃ½ vÃ  Ã´n táº­p flashcard

## ğŸ’» YÃªu cáº§u há»‡ thá»‘ng

- **Python**: 3.8 trá»Ÿ lÃªn
- **RAM**: Tá»‘i thiá»ƒu 8GB (khuyáº¿n nghá»‹ 16GB)
- **GPU**: KhÃ´ng báº¯t buá»™c (há»— trá»£ GPU Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ xá»­ lÃ½)
- **Disk**: Tá»‘i thiá»ƒu 5GB trá»‘ng (cho model vÃ  dependencies)
- **OS**: Windows, Linux, hoáº·c macOS

## ğŸ“¦ CÃ i Ä‘áº·t

### 1. Clone repository

```bash
git clone <repository-url>
cd NhanDangChuVietTay
```

### 2. Táº¡o virtual environment (khuyáº¿n nghá»‹)

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/Mac
python3 -m venv venv
source venv/bin/activate
```

### 3. CÃ i Ä‘áº·t dependencies

**CÃ i Ä‘áº·t dependencies cÆ¡ báº£n:**
```bash
pip install -r requirements.txt
```

**CÃ i Ä‘áº·t dependencies cho Flask app:**
```bash
pip install -r requirements_flask.txt
```

**Hoáº·c sá»­ dá»¥ng script tá»± Ä‘á»™ng:**
```bash
# Windows
install_requirements.bat

# PowerShell
install_requirements.ps1

# Python
python install_requirements.py
```

**LÆ°u Ã½**: 
- CÃ i Ä‘áº·t PaddleOCR cÃ³ thá»ƒ máº¥t vÃ i phÃºt
- Model PaddleOCR sáº½ Ä‘Æ°á»£c táº£i tá»± Ä‘á»™ng vÃ o thÆ° má»¥c `.paddleocr` khi cháº¡y láº§n Ä‘áº§u

## ğŸš€ Sá»­ dá»¥ng

### 1. Sá»­ dá»¥ng qua Web Interface (Khuyáº¿n nghá»‹)

#### Khá»Ÿi Ä‘á»™ng server:

```bash
python app.py
```

Sau Ä‘Ã³ má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: `http://127.0.0.1:5000`

#### CÃ¡c trang chÃ­nh:
- **`/`**: Trang chá»§ - Dashboard vá»›i flashcard gáº§n Ä‘Ã¢y
- **`/scan`**: Upload vÃ  nháº­n dáº¡ng áº£nh OCR
- **`/flashcards`**: Quáº£n lÃ½ flashcard
- **`/learn`**: Ã”n táº­p flashcard
- **`/info`**: ThÃ´ng tin vá» há»‡ thá»‘ng

#### TÃ­nh nÄƒng web interface:
- Upload áº£nh vÃ  nháº­n dáº¡ng ngay láº­p tá»©c
- Xem káº¿t quáº£ vá»›i confidence score
- Dá»‹ch vÄƒn báº£n tiáº¿ng Anh sang tiáº¿ng Viá»‡t
- Táº¡o flashcard tá»± Ä‘á»™ng tá»« vÄƒn báº£n Ä‘Ã£ nháº­n dáº¡ng
- Quáº£n lÃ½ flashcard: thÃªm, sá»­a, xÃ³a, tÃ¬m kiáº¿m
- Ã”n táº­p flashcard vá»›i thá»‘ng kÃª

### 2. Sá»­ dá»¥ng qua Python API

#### Sá»­ dá»¥ng PaddleOCR:

```python
from app import get_ocr

# Láº¥y OCR instance
ocr = get_ocr()

# Nháº­n dáº¡ng áº£nh
result = ocr.ocr('path/to/image.jpg', cls=False)
if result and result[0]:
    for line in result[0]:
        text = line[1][0] if isinstance(line[1], (list, tuple)) else line[1]
        print(text)
```

### 3. API Endpoints

#### POST `/api/upload`
Upload áº£nh lÃªn server.

**Request:**
- `image`: File áº£nh (multipart/form-data)

**Response:**
```json
{
  "success": true,
  "filename": "image.jpg",
  "url": "/uploads/image.jpg"
}
```

#### POST `/api/ocr`
Nháº­n dáº¡ng vÄƒn báº£n tá»« áº£nh.

**Request:**
```json
{
  "image_path": "/uploads/image.jpg"
}
```

**Response:**
```json
{
  "success": true,
  "text": "VÄƒn báº£n Ä‘Ã£ nháº­n dáº¡ng",
  "text_lines": ["DÃ²ng 1", "DÃ²ng 2"],
  "text_joined": "DÃ²ng 1 DÃ²ng 2"
}
```

#### POST `/api/translate`
Dá»‹ch vÄƒn báº£n tá»« tiáº¿ng Anh sang tiáº¿ng Viá»‡t.

**Request:**
```json
{
  "text": "Hello world",
  "lines": ["Hello", "world"]
}
```

**Response:**
```json
{
  "success": true,
  "translated": "Xin chÃ o tháº¿ giá»›i",
  "translated_lines": ["Xin chÃ o", "tháº¿ giá»›i"]
}
```

#### POST `/api/flashcard`
Táº¡o flashcard má»›i.

**Request:**
```json
{
  "original": "Hello",
  "translated": "Xin chÃ o",
  "image_path": "/uploads/image.jpg",
  "original_lines": ["Hello", "world"],
  "translated_lines": ["Xin chÃ o", "tháº¿ giá»›i"]
}
```

**Response:**
```json
{
  "success": true,
  "count": 2,
  "flashcards": [...]
}
```

#### GET `/api/flashcards`
Láº¥y danh sÃ¡ch flashcard.

**Query parameters:**
- `category`: Lá»c theo danh má»¥c
- `favorite`: Lá»c flashcard yÃªu thÃ­ch (`true`/`false`)

#### GET `/api/stats`
Láº¥y thá»‘ng kÃª flashcard.

**Response:**
```json
{
  "success": true,
  "stats": {
    "total": 100,
    "reviewed": 50,
    "favorites": 10,
    "accuracy": 85.5,
    "total_correct": 200,
    "total_wrong": 30
  }
}
```

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
NhanDangChuVietTay/
â”‚
â”œâ”€â”€ app.py                      # Flask app chÃ­nh (OCR + Flashcard)
â”œâ”€â”€ dictionary_api.py           # API tra cá»©u tá»« Ä‘iá»ƒn
â”‚
â”œâ”€â”€ AnhTT/                      # ThÆ° má»¥c áº£nh máº«u
â”‚   â”œâ”€â”€ *.jpg                   # áº¢nh máº«u
â”‚   â””â”€â”€ *.txt                   # Ground truth tÆ°Æ¡ng á»©ng
â”‚
â”œâ”€â”€ templates/                   # HTML templates cho web interface
â”‚   â”œâ”€â”€ base.html
â”‚   â”œâ”€â”€ index.html              # Trang chá»§
â”‚   â”œâ”€â”€ scan.html               # Trang OCR
â”‚   â”œâ”€â”€ flashcards.html         # Trang quáº£n lÃ½ flashcard
â”‚   â”œâ”€â”€ learn.html              # Trang Ã´n táº­p
â”‚   â””â”€â”€ info.html              # Trang thÃ´ng tin
â”‚
â”œâ”€â”€ static/                      # Static files (CSS, JS)
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”‚
â”œâ”€â”€ uploads/                     # ThÆ° má»¥c lÆ°u áº£nh Ä‘Ã£ upload
â”œâ”€â”€ flashcards/                 # ThÆ° má»¥c lÆ°u flashcard
â”‚   â””â”€â”€ flashcards.json
â”‚
â”œâ”€â”€ paddleocr/                   # PaddleOCR package
â”œâ”€â”€ ppocr/                       # PaddleOCR core
â”œâ”€â”€ ppstructure/                 # PaddleOCR structure analysis
â”‚
â”œâ”€â”€ configs/                     # Cáº¥u hÃ¬nh OCR
â”‚   â”œâ”€â”€ det/                    # Detection configs
â”‚   â”œâ”€â”€ rec/                    # Recognition configs
â”‚   â”œâ”€â”€ cls/                    # Classification configs
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ requirements.txt             # Python dependencies cÆ¡ báº£n
â”œâ”€â”€ requirements_flask.txt       # Dependencies cho Flask app
â”œâ”€â”€ install_requirements.bat    # Script cÃ i Ä‘áº·t (Windows)
â”œâ”€â”€ install_requirements.ps1    # Script cÃ i Ä‘áº·t (PowerShell)
â””â”€â”€ README.md                    # File nÃ y
```

## ğŸ”§ Cáº¥u hÃ¬nh

### Cáº¥u hÃ¬nh PaddleOCR

Model PaddleOCR sáº½ Ä‘Æ°á»£c táº£i tá»± Ä‘á»™ng vÃ o thÆ° má»¥c `.paddleocr` trong thÆ° má»¥c dá»± Ã¡n. Báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh trong `app.py`:

```python
ocr_instance = PaddleOCR(
    lang='en',  # hoáº·c 'vi' cho tiáº¿ng Viá»‡t
    ocr_version='PP-OCRv4',
    use_gpu=False,  # True náº¿u cÃ³ GPU
    enable_mkldnn=False
)
```

### Cáº¥u hÃ¬nh Translation

Há»‡ thá»‘ng sá»­ dá»¥ng Google Translate API thÃ´ng qua `deep-translator` hoáº·c `googletrans`. Cáº¥u hÃ¬nh trong `app.py`:

```python
from deep_translator import GoogleTranslator
translator = GoogleTranslator(source='en', target='vi')
```

## ğŸ“Š Káº¿t quáº£

- **Accuracy trÃªn test set**: ~85-97% (tÃ¹y thuá»™c vÃ o cháº¥t lÆ°á»£ng áº£nh vÃ  phÆ°Æ¡ng thá»©c OCR)
- **Inference time**: 
  - PaddleOCR: ~0.5-1 giÃ¢y/áº£nh (CPU), ~0.1-0.2 giÃ¢y/áº£nh (GPU)
- **Model size**: 
  - PaddleOCR: ~100-200 MB (táº£i tá»± Ä‘á»™ng)

## ğŸ”§ Troubleshooting

### Lá»—i khi load PaddleOCR

```bash
# Kiá»ƒm tra cÃ i Ä‘áº·t
pip install --upgrade paddlepaddle paddleocr

# XÃ³a cache vÃ  táº£i láº¡i
rm -rf .paddleocr
```

### Lá»—i OneDNN

Náº¿u gáº·p lá»—i OneDNN, há»‡ thá»‘ng Ä‘Ã£ tá»± Ä‘á»™ng táº¯t OneDNN trong code. Náº¿u váº«n lá»—i:

```bash
# Set environment variables
export FLAGS_use_mkldnn=False
export FLAGS_ir_optim=False
```

### Lá»—i Translation API

Náº¿u Google Translate bá»‹ cháº·n hoáº·c rate limit:
- Äá»£i vÃ i phÃºt rá»“i thá»­ láº¡i
- Kiá»ƒm tra káº¿t ná»‘i internet
- Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng retry vá»›i delay

## ğŸ“ Ghi chÃº

- Há»‡ thá»‘ng tá»± Ä‘á»™ng lÆ°u model PaddleOCR vÃ o thÆ° má»¥c `.paddleocr` trong dá»± Ã¡n
- Flashcard Ä‘Æ°á»£c lÆ°u trong `flashcards/flashcards.json`
- áº¢nh upload Ä‘Æ°á»£c lÆ°u trong `uploads/`
- Há»‡ thá»‘ng hoáº¡t Ä‘á»™ng offline cho OCR (khÃ´ng cáº§n internet)
- Dá»‹ch tá»± Ä‘á»™ng yÃªu cáº§u káº¿t ná»‘i internet

## ğŸ™ Acknowledgments

- **PaddleOCR**: Baidu PaddlePaddle team - [GitHub](https://github.com/PaddlePaddle/PaddleOCR)
- **Flask**: Pallets Projects - [Website](https://flask.palletsprojects.com/)
- **Google Translate**: Google Cloud Translation API
- **Free Dictionary API**: [dictionaryapi.dev](https://dictionaryapi.dev/)

## ğŸ“§ TÃ¡c giáº£

**Nguyá»…n Thá»‹ Lan Anh**  
ğŸ“§ nguyenthilananh24022004@gmail.com

---

<div align="center">
    <p>ÄÆ°á»£c phÃ¡t triá»ƒn bá»Ÿi Khoa CÃ´ng nghá»‡ ThÃ´ng tin - Äáº¡i há»c Äáº¡i Nam</p>
    <p>Â© 2024 - All rights reserved</p>
</div>
